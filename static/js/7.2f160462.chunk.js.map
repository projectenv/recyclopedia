{"version":3,"sources":["components/Form/Input.tsx","components/Form/Form.tsx","components/Form/Input.module.scss","components/Form/Form.module.scss","pages/Admin/Account.module.scss","pages/Admin/Login.tsx","pages/Admin/Register.tsx","pages/Admin/Account.tsx"],"names":["Input","changeHandler","label","value","option","selectAllOnFocus","props","InputOrTextarea","inputRef","useRef","className","styles","group","cn","shrink","ref","textarea","input","onChange","onFocus","current","select","Form","submitFn","inputItems","children","defaultItems","Object","assign","entries","map","name","defaultValue","useState","setInput","e","target","submitHandler","a","preventDefault","form","onSubmit","inputs","idx","module","exports","Login","_","dispatch","useAppDispatch","history","useHistory","email","placeholder","required","password","type","loginWithEmailAndPassword","loginResult","payload","console","log","LoginType","Anonymous","push","alert","Button","Register","passwordConfirmation","registerAccount","Account","isNewUser","setIsNewUser","account","switchNewUser","styledAs","onClick"],"mappings":"kLA+DeA,IA7CD,SAAC,GAaT,IAZJC,EAYG,EAZHA,cACAC,EAWG,EAXHA,MACAC,EAUG,EAVHA,MACAC,EASG,EATHA,OACAC,EAQG,EARHA,iBACGC,EAOA,6EACGC,EAAkBH,GAAU,QAC5BI,EAAWC,iBAA+C,MAEhE,OACE,sBAAKC,UAAWC,IAAOC,MAAvB,UAEIV,GACE,uBACEQ,UAAWG,IAAG,eAAGF,IAAOG,OAASX,IADnC,SAGGD,IAIP,cAACK,EAAD,yBACEQ,IAAKP,EACLE,UACa,aAAXN,EACEO,IAAOK,SACPL,IAAOM,MAEXC,SAAUjB,GACJI,GAAqB,CACzBc,QAAS,kCAAMX,EAASY,eAAf,aAAM,EAAkBC,YAE/Bf,S,qJCYGgB,IA9Df,YAaG,IAVDC,EAUA,EAVAA,SACAC,EASA,EATAA,WACAC,EAQA,EARAA,SACAf,EAOA,EAPAA,UACGJ,EAMH,gEAEMoB,EAAeC,OAAOC,OAC1BD,OAAOE,QAAQL,GAAYM,KAAI,mCAAEC,EAAF,KAAQ5B,EAAR,2BAC5B4B,EAAO5B,EAAM6B,cAAgB,QAJlC,EAQ0BC,mBAASP,GARnC,mBAQOT,EARP,KAQciB,EARd,KAUMjC,EAA+B,SAACkC,GAAO,IAAD,EAClBA,EAAEC,OAAlBL,EADkC,EAClCA,KAAM5B,EAD4B,EAC5BA,MAEd+B,EAAS,2BACJjB,GADG,kBAELc,EAAO5B,MAINkC,EAAa,uCAAG,WAAOF,GAAP,SAAAG,EAAA,6DACpBH,EAAEI,iBADkB,gBAEdhB,QAFc,IAEdA,OAFc,EAEdA,EAAWN,GAFG,OAGpBiB,EAASR,GAHW,2CAAH,sDAMnB,OACE,+CACEhB,UAAWG,IAAGF,IAAO6B,KAAM9B,GAC3B+B,SAAUJ,GACN/B,GAHN,cAKE,qBAAKI,UAAWC,IAAO+B,OAAvB,SAEIf,OAAOE,QAAQL,GAAYM,KAAI,WAAgBa,GAAhB,uBAAEZ,EAAF,KAAQ5B,EAAR,YAC7B,cAAC,IAAD,aAEEF,cAAeA,EACf8B,KAAMA,EACN5B,MAAOc,EAAMc,IACT5B,GAJCwC,QASZlB,Q,oBC/DPmB,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,mBAAmB,gCAAgC,OAAS,wB,oBCA3GD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,OAAS,uB,oBCArDD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,cAAgB,iC,kJC+CtDC,MAvCf,SAAeC,GACb,IAAMC,EAAWC,cACXC,EAAUC,cAChB,OACE,qCACE,0DACA,cAAC7B,EAAA,EAAD,CACEE,WAAY,CACV4B,MAAO,CACL/C,kBAAkB,EAClBgD,YAAa,QACbC,UAAU,GAEZC,SAAU,CACRlD,kBAAkB,EAClBmD,KAAM,WACNH,YAAa,WACbC,UAAU,IAGd/B,SAAQ,uCAAE,WAAON,GAAP,eAAAqB,EAAA,sEACmBU,EAASS,YAA0BxC,IADtD,OACFyC,EADE,OAC+DC,QACvEC,QAAQC,IAAIH,GAERA,EAAYF,OAASM,IAAUC,UACjCb,EAAQc,KAAK,KAEbC,MAAM,aAPA,2CAAF,sDAdV,SAyBE,cAACC,EAAA,EAAD,CAAQV,KAAK,SAAb,yBCWOW,MAzCf,SAAkBpB,GAIhB,OAHiBE,cACDE,cAGd,qCACE,yDACA,cAAC7B,EAAA,EAAD,CACEE,WAAY,CACV4B,MAAO,CACL/C,kBAAkB,EAClBgD,YAAa,QACbC,UAAU,GAEZC,SAAU,CACRlD,kBAAkB,EAClBgD,YAAa,WACbG,KAAM,WACNF,UAAU,GAEZc,qBAAsB,CACpB/D,kBAAkB,EAClBgD,YAAa,mBACbG,KAAM,WACNF,UAAU,IAGd/B,SAAQ,uCAAE,WAAON,GAAP,SAAAqB,EAAA,yDACJrB,EAAMsC,WAAatC,EAAMmD,qBADrB,gCAEAC,YAAgB,CAAEjB,MAAOnC,EAAMmC,MAAOG,SAAUtC,EAAMsC,WAFtD,6BAINU,MAAM,2BAJA,2CAAF,sDApBV,SA4BE,cAACC,EAAA,EAAD,CAAQV,KAAK,SAAb,oCCdOc,UAvBf,WAAoB,IAAD,EACiBrC,oBAAS,GAD1B,mBACVsC,EADU,KACCC,EADD,KAEjB,OACE,sBAAK9D,UAAWC,IAAO8D,QAAvB,UACE,sBAAK/D,UAAWC,IAAO+D,cAAvB,UACGH,EAAY,kBAAoB,YACjC,cAACL,EAAA,EAAD,CACES,SAAS,OACTC,QAAS,kBAAMJ,GAAcD,IAF/B,SAIGA,EAAY,QAAU,gBAIzBA,EACA,cAAC,EAAD,IAEA,cAAC,EAAD","file":"static/js/7.2f160462.chunk.js","sourcesContent":["import styles from \"./Input.module.scss\";\nimport { useRef } from \"react\";\nimport cn from \"classnames\";\n\nexport interface InputOptions {\n  type?: string,\n  placeholder?: string;\n  readOnly?: boolean;\n  required?: boolean;\n\n  option?: \"input\" | \"textarea\";\n  label?: string;\n  defaultValue?: string,\n  selectAllOnFocus?: boolean;\n}\n\nexport type ChangeHandler = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n\nconst Input = ({\n  changeHandler,\n  label,\n  value,\n  option,\n  selectAllOnFocus,\n  ...props\n}: {\n  changeHandler?: ChangeHandler;\n  name?: string;\n  label?: string;\n  value: string;\n} & InputOptions\n) => {\n  const InputOrTextarea = option || \"input\";\n  const inputRef = useRef<HTMLInputElement & HTMLTextAreaElement>(null);\n\n  return (\n    <div className={styles.group}>\n      {\n        label && (\n          <label\n            className={cn({ [styles.shrink]: value })}\n          >\n            {label}\n          </label>\n        )\n      }\n      <InputOrTextarea\n        ref={inputRef}\n        className={(\n          option === \"textarea\"\n        ) ? styles.textarea\n          : styles.input\n        }\n        onChange={changeHandler}\n        {...((selectAllOnFocus) && {\n          onFocus: () => inputRef.current?.select()\n        })}\n        {...props}\n      />\n    </div>\n  );\n};\n\nexport default Input;\n","import styles from \"./Form.module.scss\";\nimport { useState } from \"react\";\nimport cn from \"classnames\";\n\nimport Input, { InputOptions, ChangeHandler } from \"./Input\";\n\n\nfunction Form<\n  T extends Record<string, InputOptions>\n>({\n  submitFn,\n  inputItems,\n  children,\n  className,\n  ...props\n}: {\n  submitFn?: (inputItems: Record<keyof T, string>) => void | Promise<void>;\n  inputItems: T;\n  children?: React.ReactNode;\n} & React.DetailedHTMLProps<React.ButtonHTMLAttributes<HTMLFormElement>, HTMLFormElement>\n) {\n\n  const defaultItems = Object.assign(\n    Object.entries(inputItems).map(([name, value]) => ({\n      [name]: value.defaultValue || \"\"\n    }))\n  );\n\n  const [input, setInput] = useState(defaultItems);\n\n  const changeHandler: ChangeHandler = (e) => {\n    const { name, value } = e.target;\n\n    setInput({\n      ...input,\n      [name]: value\n    });\n  };\n\n  const submitHandler = async (e: React.FormEvent) => {\n    e.preventDefault();\n    await submitFn?.(input);\n    setInput(defaultItems);\n  };\n\n  return (\n    <form\n      className={cn(styles.form, className)}\n      onSubmit={submitHandler}\n      {...props}\n    >\n      <div className={styles.inputs}>\n        {\n          Object.entries(inputItems).map(([name, value], idx) => (\n            <Input\n              key={idx}\n              changeHandler={changeHandler}\n              name={name}\n              value={input[name]}\n              {...value}\n            />\n          ))\n        }\n      </div>\n      {children}\n    </ form>\n  );\n}\n\nexport default Form;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"group\":\"Input_group___CkTD\",\"form-input-label\":\"Input_form-input-label__3LBb9\",\"shrink\":\"Input_shrink__1Oknc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__201Ui\",\"inputs\":\"Form_inputs__2RGHw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"account\":\"Account_account__vM1fm\",\"switchNewUser\":\"Account_switchNewUser__pz8yz\"};","import { useHistory } from \"react-router-dom\";\n\nimport { useAppDispatch } from \"app/hooks\";\nimport { LoginAttemptResult, loginWithEmailAndPassword, LoginType } from \"app/adminSlice\";\n\nimport Form from \"components/Form/Form\";\nimport Button from \"components/UI/Button\";\n\n\nfunction Login(_: Record<string, never>) {\n  const dispatch = useAppDispatch();\n  const history = useHistory();\n  return (\n    <>\n      <h1>Login With Your Account!</h1>\n      <Form\n        inputItems={{\n          email: {\n            selectAllOnFocus: true,\n            placeholder: \"Email\",\n            required: true,\n          },\n          password: {\n            selectAllOnFocus: true,\n            type: \"password\",\n            placeholder: \"Password\",\n            required: true,\n          }\n        }}\n        submitFn={async (input) => {\n          const loginResult = (await dispatch(loginWithEmailAndPassword(input))).payload as LoginAttemptResult;\n          console.log(loginResult);\n\n          if (loginResult.type !== LoginType.Anonymous) {\n            history.push(\"/\");\n          } else {\n            alert(\"bad login\");\n          }\n        }}\n      >\n        <Button type='submit'>\n          Login\n        </Button>\n      </Form>\n    </>\n  );\n}\n\nexport default Login;","import styles from \"pages/Admin/Register.module.scss\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { useAppDispatch } from \"app/hooks\";\nimport { registerAccount } from \"app/adminSlice\";\n\nimport Form from \"components/Form/Form\";\nimport Button from \"components/UI/Button\";\n\n\nfunction Register(_: Record<string, never>) {\n  const dispatch = useAppDispatch();\n  const history = useHistory();\n\n  return (\n    <>\n      <h1>Register a New Account!</h1>\n      <Form\n        inputItems={{\n          email: {\n            selectAllOnFocus: true,\n            placeholder: \"Email\",\n            required: true,\n          },\n          password: {\n            selectAllOnFocus: true,\n            placeholder: \"Password\",\n            type: \"password\",\n            required: true,\n          },\n          passwordConfirmation: {\n            selectAllOnFocus: true,\n            placeholder: \"Confirm Password\",\n            type: \"password\",\n            required: true,\n          }\n        }}\n        submitFn={async (input) => {\n          if (input.password === input.passwordConfirmation) {\n            await registerAccount({ email: input.email, password: input.password });\n          } else {\n            alert(\"Passwords do not match!\");\n          }\n        }}\n      >\n        <Button type='submit'>Register Account</Button>\n      </Form>\n    </>\n  );\n}\n\nexport default Register;","import styles from \"./Account.module.scss\";\nimport { useState } from \"react\";\n\nimport Button from \"components/UI/Button\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\n\n\nfunction Account() {\n  const [isNewUser, setIsNewUser] = useState(false);\n  return (\n    <div className={styles.account}>\n      <div className={styles.switchNewUser}>\n        {isNewUser ? \"Returning user?\" : \"New user?\"}\n        <Button\n          styledAs=\"oval\"\n          onClick={() => setIsNewUser(!isNewUser)}\n        >\n          {isNewUser ? \"Login\" : \"Register\"}\n        </Button>\n      </div>\n      \n      {(isNewUser) ? (\n        <Register />\n      ) : (\n        <Login />\n      )}\n    </div>\n  );\n}\n\nexport default Account;"],"sourceRoot":""}