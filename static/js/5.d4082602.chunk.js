(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[5],{169:function(e,t,n){"use strict";var c=n(2),a=n.n(c),r=n(3),s=n(4),i=n(10),o=n(13),l=n(27),j=n(171),m=n.n(j),d=n(0),u=n(21),b=n.n(u),O=n(168),h=n(1);t.a=function(e){var t=e.submitFn,n=e.inputItems,c=e.children,j=e.className,u=Object(l.a)(e,["submitFn","inputItems","children","className"]),x=Object.assign(Object.entries(n).map((function(e){var t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(i.a)({},n,c.defaultValue||"")}))),f=Object(d.useState)(x),p=Object(o.a)(f,2),v=p[0],g=p[1],_=function(e){var t=e.target,n=t.name,c=t.value;g(Object(s.a)(Object(s.a)({},v),{},Object(i.a)({},n,c)))},C=function(){var e=Object(r.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,null===t||void 0===t?void 0:t(v);case 3:g(x);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("form",Object(s.a)(Object(s.a)({className:b()(m.a.form,j),onSubmit:C},u),{},{children:[Object(h.jsx)("div",{className:m.a.inputs,children:Object.entries(n).map((function(e,t){var n=Object(o.a)(e,2),c=n[0],a=n[1];return Object(h.jsx)(O.a,Object(s.a)({changeHandler:_,name:c,value:v[c]},a),t)}))}),c]}))}},171:function(e,t,n){e.exports={form:"Form_form__201Ui",inputs:"Form_inputs__2RGHw"}},175:function(e,t,n){"use strict";var c=n(4),a=n(27),r=n(176),s=n.n(r),i=n(0),o=n(21),l=n.n(o),j=n(1),m=Object(i.forwardRef)((function(e,t){var n=e.name,r=e.styledAs,i=e.checked,o=e.children,m=e.className,d=Object(a.a)(e,["name","styledAs","checked","children","className"]);return Object(j.jsxs)("div",{className:l()(s.a.button,r?s.a[r]:s.a.default,m),children:[Object(j.jsx)("input",Object(c.a)({ref:t,type:"checkbox",value:n,checked:i},d)),Object(j.jsx)("label",{htmlFor:n,children:o})]})}));t.a=m},176:function(e,t,n){e.exports={button:"CheckboxButton_button__3sGm8",default:"CheckboxButton_default__2RAqr",circle:"CheckboxButton_circle__1GmiA"}},177:function(e,t,n){"use strict";var c=n(4),a=n(10),r=n(13),s=n(27),i=n(178),o=n.n(i),l=n(0),j=n(21),m=n.n(j),d=n(1);t.a=function(e){var t=e.header,n=e.centered,i=void 0!==n&&n,j=e.collapsed,u=void 0!==j&&j,b=e.children,O=e.className,h=Object(s.a)(e,["header","centered","collapsed","children","className"]),x=Object(l.useState)(u),f=Object(r.a)(x,2),p=f[0],v=f[1];return Object(d.jsxs)("div",Object(c.a)(Object(c.a)({className:m()(o.a.collapsibleContainer,O)},h),{},{children:[Object(d.jsxs)("div",{className:m()(o.a.collapsibleTitle,Object(a.a)({},o.a.centered,i)),onClick:function(){return v((function(e){return!e}))},children:[Object(d.jsx)("p",{children:t}),Object(d.jsx)("div",{className:m()("material-icons",Object(a.a)({},o.a.collapsed,p)),children:"expand_more"})]}),!p&&b]}))}},178:function(e,t,n){e.exports={collapsibleContainer:"Collapsible_collapsibleContainer__1frp_",collapsibleTitle:"Collapsible_collapsibleTitle__2U45i",collapsed:"Collapsible_collapsed__3OQ9_",centered:"Collapsible_centered__2bh--"}},184:function(e,t,n){e.exports={commentSection:"CommentSection_commentSection__3DSu0",commentForm:"CommentSection_commentForm__3w5Gv",commentSectionContent:"CommentSection_commentSectionContent__3tDc2"}},185:function(e,t,n){e.exports={comment:"Comment_comment__2Wan6",commentUser:"Comment_commentUser__19j4V",commentContent:"Comment_commentContent__2nMjH",commentControls:"Comment_commentControls__hM516"}},193:function(e,t,n){e.exports={floatingSocialMenu:"FloatingSocialMenu_floatingSocialMenu__3IU2W"}},194:function(e,t,n){e.exports={shareBtns:"MediaShareBtns_shareBtns__3oS4c",copyLinkBtn:"MediaShareBtns_copyLinkBtn__3jn0n",clicked:"MediaShareBtns_clicked__Mjj1S"}},195:function(e,t,n){e.exports={checkboxCounterBtn:"CheckboxCounterBtn_checkboxCounterBtn__zZ3p0"}},196:function(e,t,n){e.exports={tableOfContents:"TableOfContents_tableOfContents__NsRqp"}},197:function(e,t,n){e.exports={tagView:"TagViews_tagView__32mEr"}},213:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(3),s=n(13),i=n(23),o=n.n(i),l=n(0),j=n(8),m=n(211),d=n(12),u=n(14),b=n(6),O=n(19),h=n(182),x=n(168),f=n(55),p=n(69),v=n(4),g=n(27),_=n(184),C=n.n(_),k=n(169),A=n(185),N=n.n(A),y=n(212),w=n(1);function S(e){var t=e.comment,n=(e.parentId,e.children),c=t.user?{commenterAvatar:t.user.avatar,commenterUserName:t.user.name}:{commenterAvatar:"https://lh6.googleusercontent.com/-f9MhM40YFzc/AAAAAAAAAAI/AAAAAAABjbo/iG_SORRy0I4/photo.jpg",commenterUserName:"Anonymous"},a=c.commenterAvatar,r=c.commenterUserName;return Object(w.jsxs)("div",{className:N.a.comment,children:[Object(w.jsxs)("div",{className:N.a.commentUser,children:[Object(w.jsx)("img",{src:a,alt:r}),Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:r}),Object(w.jsxs)("p",{children:[Object(y.a)(t.createdAt,new Date)," ago"]})]})]}),Object(w.jsx)("div",{className:N.a.commentContent,children:t.content}),Object(w.jsxs)("div",{className:N.a.commentControls,children:[Object(w.jsxs)(f.a,{styledAs:"oval",children:[Object(w.jsx)("span",{className:"material-icons",children:"thumb_up"}),t.likeCount]}),Object(w.jsxs)(f.a,{styledAs:"oval",children:[Object(w.jsx)("span",{className:"material-icons",children:"thumb_down"}),t.dislikeCount]}),Object(w.jsxs)(f.a,{styledAs:"oval",children:[Object(w.jsx)("span",{className:"material-icons",children:"comment"}),"Reply"]})]}),n]})}var M=function(e){var t=e.comment,n=e.commentId;return Object(w.jsx)(S,{comment:t,children:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("br",{}),t.replies.map((function(e,t){return Object(w.jsx)(S,{parentId:n,comment:e},t)}))]})})},R=Object(l.forwardRef)((function(e,t){var n=e.comments,c=Object(g.a)(e,["comments"]);return Object(w.jsxs)("div",Object(v.a)(Object(v.a)({className:C.a.commentSection,ref:t},c),{},{children:[Object(w.jsxs)("div",{className:C.a.commentForm,children:[Object(w.jsx)("h2",{children:"Add a Comment"}),Object(w.jsx)(k.a,{inputItems:{name:{placeholder:"Name"},comment:{placeholder:"Comment",option:"textarea"}},submitFn:function(e){console.log(e.comment)},children:Object(w.jsx)(f.a,{styledAs:"oval",children:"Comment"})})]}),Object(w.jsxs)("div",{className:C.a.commentSectionContent,children:[Object(w.jsx)("h2",{children:"Comments"}),Object(w.jsx)("div",{children:n.map((function(e,t){return Object(w.jsx)(M,{commentId:t,comment:e},t)}))})]})]}))})),B=n(201),F=n(193),I=n.n(F),L=n(194),T=n.n(L),U=n(203),H=n(204),V=n(205),E=n(206),D=n(207),G=n(208);var P=function(e){var t=e.title,n=location.href,c="Give this article a read - ".concat(t);return Object(w.jsxs)("div",{className:T.a.shareBtns,children:[Object(w.jsx)(U.a,{url:n,quote:c,hashtag:"#projectenv",children:Object(w.jsx)(H.a,{})}),Object(w.jsx)(V.a,{url:n,title:c,hashtags:["projectenv","climatechange","environment","recycling"],children:Object(w.jsx)(E.a,{})}),Object(w.jsx)(D.a,{url:n,title:c,children:Object(w.jsx)(G.a,{})}),Object(w.jsx)(f.a,{styledAs:"oval",className:T.a.copyLinkBtn+" material-icons",onClick:function(){var e=Object(r.a)(a.a.mark((function e(t){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(n);case 2:(c=t.target).innerHTML="done",c.classList.add(T.a.clicked),setTimeout((function(){c.innerHTML="link",c.classList.remove(T.a.clicked)}),2e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"link"})]})},q=n(195),Y=n.n(q),z=n(175),J=Object(l.forwardRef)((function(e,t){var n=e.materialIcon,c=e.counter,a=Object(g.a)(e,["materialIcon","counter"]);return Object(w.jsxs)("div",{className:Y.a.checkboxCounterBtn,children:[Object(w.jsx)(z.a,Object(v.a)(Object(v.a)({ref:t,styledAs:"circle"},a),{},{children:Object(w.jsx)("span",{className:"material-icons",children:n})})),Object(w.jsx)("p",{children:c})]})}));var W=function(e){var t=e.title,n=e.commentSectionRef,c=e.likeCount,a=e.dislikeCount,r=Object(l.useState)(!1),i=Object(s.a)(r,2),o=i[0],j=i[1],m=Object(l.useRef)(null),d=Object(l.useRef)(null),u=function(e){var t=m.current,n=d.current;t&&n&&(e.target===t&&t.checked&&(n.checked=!1),e.target===n&&n.checked&&(t.checked=!1))};return Object(w.jsxs)("div",{className:I.a.floatingSocialMenu,children:[Object(w.jsx)(J,{ref:m,name:"likes",materialIcon:"thumb_up",counter:c,onChange:function(e){u(e)}}),Object(w.jsx)(J,{ref:d,name:"dislikes",materialIcon:"thumb_down",counter:a,onChange:function(e){u(e)}}),o&&Object(w.jsx)(P,{title:t}),Object(w.jsx)(f.a,{styledAs:"circle",onClick:function(){var e=n.current;if(e){var t=e.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:t,behavior:"smooth"})}},children:Object(w.jsx)("span",{className:"material-icons",children:"comment"})}),Object(w.jsx)(f.a,{styledAs:"circle",onClick:function(){return j(!o)},children:Object(w.jsx)("span",{className:"material-icons",children:o?"close":"share"})})]})},Q=n(196),Z=n.n(Q),K=n(177);var X=function(e){var t=e.sectionHeaders;return t.length>0?Object(w.jsx)(K.a,{className:Z.a.tableOfContents,header:"Table of Contents",centered:!0,children:Object(w.jsx)("nav",{children:t.map((function(e){var t=e.level,n=e.text;return Object(w.jsx)("a",{href:"#"+n,children:Object(w.jsxs)("p",{style:{marginLeft:"".concat(2*(t-1),"em")},children:["\u2022 ",n]})},n)}))})}):null},$=n(197),ee=n.n($);var te,ne=function(e){var t=e.tags;return Object(w.jsx)("div",{className:ee.a.tagView,children:t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h5",{children:"This article was tagged with: "}),t.map((function(e){return Object(w.jsx)("p",{children:e},e)}))]}):Object(w.jsx)("h5",{children:"This article has not been tagged."})})},ce=n(79);!function(e){e[e.Reading=0]="Reading",e[e.Editting=1]="Editting",e[e.Migration=2]="Migration"}(te||(te={}));t.default=function(e){var t=e.article,n=e.inRecycling,c=Object(j.g)(),i=Object(d.a)(),v=Object(d.b)(b.g)===b.a.Admin,g=t.name,_=t.content,C=t.dateCreated,k=t.dateModified,A=t.likeCount,N=t.dislikeCount,y=Object(l.useState)(g),S=Object(s.a)(y,2),M=S[0],F=S[1],I=Object(l.useState)(te.Reading),L=Object(s.a)(I,2),T=L[0],U=L[1],H=Object(l.useState)(te.Reading),V=Object(s.a)(H,2),E=V[0],D=V[1],G=Object(h.a)(_),P=Object(l.useRef)(null),q=Object(l.useState)([]),Y=Object(s.a)(q,2),z=Y[0],J=Y[1],Q=Object(l.useState)(0),Z=Object(s.a)(Q,2),K=Z[0];function $(e){E!==e?(D(e),U(E)):D(T)}Z[1],Object(l.useEffect)((function(){Object(r.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(g);case 2:t=e.sent,J(t);case 4:case"end":return e.stop()}}),e)})))()}),[K]);var ee=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(f.a,{styledAs:"oval",onClick:function(){return $(te.Editting)},children:"Edit This Page"}),Object(w.jsx)(f.a,{onClick:function(){return $(te.Migration)},styledAs:"oval",children:"Migrate Page"})]}),ae=Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(f.a,{styledAs:"oval",onClick:Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Do you want to restore this article?")){e.next=4;break}return e.next=3,i(Object(u.i)(g));case 3:c.push(Object(O.m)(g));case 4:case"end":return e.stop()}}),e)}))),children:"Restore Article"})});return Object(w.jsxs)(w.Fragment,{children:[v&&Object(w.jsxs)("div",{id:o.a.articleControls,children:[n?ae:ee,Object(w.jsx)(f.a,{styledAs:"oval-danger",onClick:function(){confirm(n?"Permenantly delete this article?":"Recycle this article?")&&(i(Object(u.c)(g)),c.push("/"))},children:"Delete Page"})]}),function(){switch(E){case te.Reading:return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(W,{title:g,commentSectionRef:P,likeCount:A,dislikeCount:N}),(null===t||void 0===t?void 0:t.bannerImage)&&Object(w.jsx)(ce.a,{bannerImage:t.bannerImage}),Object(w.jsxs)("h1",{className:o.a.title,children:[" ",g," "]}),Object(w.jsxs)("div",{className:o.a.dateView,children:[Object(w.jsxs)("p",{children:["Created at ",Object(m.a)(C,"LLLL d, yyyy, h:mm a")]}),k&&Object(w.jsxs)("p",{children:["Last Modified at ",Object(m.a)(k,"LLLL d, yyyy, h:mm a")]})]}),Object(w.jsx)(X,{sectionHeaders:G.headers}),Object(w.jsx)(p.a,{className:o.a.article,children:G.processed}),Object(w.jsx)(R,{ref:P,comments:z}),Object(w.jsx)(ne,{tags:t.tags})]});case te.Editting:return v&&Object(w.jsx)(B.default,{currentArticle:t});case te.Migration:return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:"Page Migration"}),Object(w.jsx)(x.a,{label:"Migration Title",changeHandler:function(e){return F(e.target.value)},defaultValue:M,value:M}),Object(w.jsx)(f.a,{onClick:Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(M,g),M!==g){e.next=5;break}alert("You cannot migrate a page unto itself!"),e.next=9;break;case 5:return e.next=7,i(Object(u.g)({name:g,newName:M}));case 7:e.sent.payload&&c.push(Object(O.m)(M));case 9:case"end":return e.stop()}}),e)}))),children:"Migrate Page"})]})}}()]})}}}]);
//# sourceMappingURL=5.d4082602.chunk.js.map