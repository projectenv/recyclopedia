(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{147:function(e,t,n){"use strict";n.r(t);n(73),n(74);var r,a=n(1),c=n.n(a),i=n(35),s=n.n(i),o=n(11),u=n(64),l=n(29),d=n(13),b=n(12),j=n(17),p=n(65),h=n.n(p),m=n(2),f=n.n(m),O=n(3),g=n(22);!function(e){e[e.NotLoggedIn=0]="NotLoggedIn",e[e.Anonymous=1]="Anonymous",e[e.User=2]="User",e[e.Admin=3]="Admin"}(r||(r={}));function v(e){return x.apply(this,arguments)}function x(){return(x=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=F.application)||void 0===n?void 0:n.emailPasswordAuth.registerUser(t.email,t.password);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return _.apply(this,arguments)}function _(){return(_=Object(O.a)(f.a.mark((function e(t){var n,a,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?g.b.emailPassword(t.email,t.password):g.b.anonymous(),a=void 0,e.prev=2,e.next=5,null===(c=F.application)||void 0===c?void 0:c.logIn(n);case 5:return a=e.sent,e.abrupt("return",{type:r.User,user:a});case 9:return e.prev=9,e.t0=e.catch(2),e.next=13,null===(i=F.application)||void 0===i?void 0:i.logIn(g.b.anonymous());case 13:return a=e.sent,e.abrupt("return",{type:r.Anonymous,user:a});case 15:return e.prev=15,F.applicationUser=a,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,9,15,18]])})))).apply(this,arguments)}var w=Object(b.b)("admin/loginWithEmailAndPassword",function(){var e=Object(O.a)(f.a.mark((function e(t){var n,a,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:if(n=e.sent,a=n.type,c=n.user,a===r.Anonymous){e.next=8;break}return i="admin"===(null===c||void 0===c?void 0:c.customData.status)&&r.Admin,e.abrupt("return",{accountDetails:t,type:i||a});case 8:return e.abrupt("return",{type:a});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k=Object(b.d)({name:"admin",initialState:{loginType:null,accountDetails:{email:"",password:""}},reducers:{logout:function(e){e.loginType=r.NotLoggedIn}},extraReducers:function(e){e.addCase(w.fulfilled,(function(e,t){var n=t.payload;switch(n.type){case r.User:case r.Admin:n.accountDetails&&(e.accountDetails=n.accountDetails),e.loginType=n.type}}))}}),C=k.actions.logout,A=k.reducer,N=function(e){return e.admin},D=Object(b.c)(N,(function(e){return e.loginType})),F=(Object(b.c)(N,(function(e){return e.accountDetails})),{application:null,applicationUser:null});function S(e){return function(){var t=Object(O.a)(f.a.mark((function t(n,r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!F.applicationUser){t.next=7;break}return t.next=4,e(F.applicationUser,n,r);case 4:return t.abrupt("return",t.sent);case 7:throw new Error("No user? This is some real bad news");case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),console.error("Call with user error: ",t.t0),t.abrupt("return",r.rejectWithValue(t.t0.response.data));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()}var I=Object(b.b)("articles/initApi",function(){var e=Object(O.a)(f.a.mark((function e(t,n){var r,a,c,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=n.dispatch,c=n.rejectWithValue,i=r(),e.prev=2,F.application=new g.a({id:t}),s=i.admin.accountDetails,e.next=7,a(w(s));case 7:return e.next=9,a(H(void 0));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(2),console.error("Failed to login because: ",e.t0),e.abrupt("return",c(e.t0.response.data));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()),H=Object(b.b)("articles/queryForArticles",S(function(){var e=Object(O.a)(f.a.mark((function e(t,n,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.functions.getAllArticles();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}())),L=Object(b.b)("articles/deleteArticle",S(function(){var e=Object(O.a)(f.a.mark((function e(t,n,r){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.dispatch,e.next=3,t.functions.removeArticle(n);case 3:a(H(void 0));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}())),T=Object(b.b)("articles/insertArticle",S(function(){var e=Object(O.a)(f.a.mark((function e(t,n,r){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.dispatch,e.next=3,t.functions.createOrUpdateArticle(n);case 3:a(H(void 0));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}())),U=Object(b.d)({name:"api",initialState:{status:"idle",articlesData:{articles:[]}},reducers:{},extraReducers:function(e){e.addCase(I.pending,(function(e){e.status="loading"})).addCase(I.rejected,(function(e){e.status="failed"})).addCase(I.fulfilled,(function(e){e.status="succeed"})).addCase(H.fulfilled,(function(e,t){e.articlesData=t.payload}))}}).reducer,q=function(e){return e.articles},B=Object(b.c)(q,(function(e){return e.status})),P=Object(b.c)(q,(function(e){return e.articlesData})),R={key:"root",storage:h.a,whitelist:["admin"]},E=Object(d.b)({articles:U,admin:A}),W=Object(j.g)(R,E),M=Object(b.a)({reducer:W,middleware:function(e){return e({serializableCheck:{ignoredActions:[j.a,j.f,j.b,j.c,j.d,j.e,"articles/queryForArticles/fulfilled"],ignoredPaths:["articles.articlesData"]}})}}),V=Object(j.h)(M),K=n(67),z=n.n(K),G=n(7),Q=function(){return Object(l.b)()},X=l.c,Y="recyclopedia-api-uuuus",J="5eba0537206ecc76b4a505e866868853",Z=n(5),$=n(28),ee=n.n($);function te(e){var t=0;function n(){return t<e.length}function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t+n>e.length?null:e[t+n]}function a(){if(t>e.length)return null;var n=r();return t++,n}return{withPreservedPosition:function(e){var n=t,r=e();return t=n,r},stillParsing:n,peekCharacter:r,requireCharacter:function(e){return r()===e&&(a(),!0)},eatCharacter:a,consumeUntil:function(e){for(var t="";n()&&!e();)t+=a();return t}}}function ne(e,t){var n=t.delimiter,r=t.acceptMultiline;if(e.requireCharacter(n)){var a=!0,c=e.consumeUntil((function(){return!r&&e.requireCharacter("\n")?(a=!1,!0):!!e.requireCharacter(n)}));if(c&&a)return c}return null}function re(e){return e.stillParsing()?e.consumeUntil((function(){return!((t=e.peekCharacter())>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9");var t})):null}function ae(e){for(;e.stillParsing();){if(" "!==e.peekCharacter()){console.log(e.peekCharacter());break}e.eatCharacter()}}function ce(e){for(var t="",n=te(e),r={processed:"",imageLinks:[],headers:[]};n.stillParsing();)if(n.requireCharacter("\\")){var a=n.eatCharacter();t+="\n"===a?"<br/>\n":a}else if(n.requireCharacter("@"))if(n.requireCharacter("@")){var c=!1,i=te(n.consumeUntil((function(){return!!n.requireCharacter("\n")||!!n.requireCharacter("@")&&(n.requireCharacter("@")&&(c=!0),!0)})));if(i&&c){for(var s="<img ",o=!1;i.stillParsing()&&!o;){ae(i);var u=re(i);if(u)if(s+=u,ae(i),i.requireCharacter("=")){if(s+="=",ae(i),"'"===i.peekCharacter()){var l=ne(i,{delimiter:"'"});l?(s+="'"+l+"'","src"===u&&r.imageLinks.push(l)):(console.error("No string value?"),o=!0)}else{var d=re(i);d?s+=d:(console.error("No value identifier?"),o=!0)}ae(i),i.requireCharacter("|")||(re(i)||ne(i,{delimiter:"'"}))&&(console.error("Missing pipe separator!"),o=!0)}else console.error("Missing assignment for property?"),o=!0;else console.error("Could not find property name!"),o=!0;s+=" "}s+="/>",o?console.log("error happened"):t+=s}else t+="\n"}else t+="@";else{if("#"===n.peekCharacter()){var b=n.consumeUntil((function(){return t+=n.peekCharacter(),"#"!==n.peekCharacter()})).length,j=n.consumeUntil((function(){return t+=n.peekCharacter(),"\n"===n.peekCharacter()}));r.headers.push({level:b,text:j})}t+=n.eatCharacter()}return r.processed=t,r}var ie=n(68),se=n.n(ie),oe=n(0),ue=se()({html:!0,breaks:!0,linkify:!0,typographer:!0}),le=function(e){return ue.render(e)};var de=function(e){var t=e.className,n=e.children;return Object(oe.jsx)("div",{className:t,dangerouslySetInnerHTML:{__html:le(n)}})},be=n(4),je=n(40),pe=n.n(je);function he(e){var t=e.children,n=e.dirtyFlag,r=[pe.a.dropOut,pe.a.dropIn],c=Object(a.useState)(n),i=Object(Z.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(0),l=Object(Z.a)(u,2),d=l[0],b=l[1];return n!==s&&(b(d+1),o(!s)),Object(oe.jsx)("div",{className:pe.a.main+" "+r[d%2],children:t})}var me=function(e){return"/".concat(e.toLowerCase().trim().replace(/ +/g,"_"))};function fe(){return(fe=Object(O.a)(f.a.mark((function e(t){var n,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t),600,r="https://api.imgbb.com/1/upload?expiration".concat(600,"&key=").concat(J),console.log(r),e.next=7,fetch(r,{method:"POST",body:n});case 7:return a=e.sent,console.log("waiting..."),e.next=11,a.json();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return(Oe=Object(O.a)(f.a.mark((function e(t,n){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t,(a=document.createElement("img")).src=URL.createObjectURL(r),console.log("attempting to load: ",r),a.onload=Object(O.a)(f.a.mark((function e(){var t,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.createElement("canvas"),(r=t.getContext("2d"))?(t.width=a.width,t.height=a.height,r.drawImage(a,0,0),c=t.toDataURL().split(",")[1],console.log("image data retrieved"),n(c)):console.log("null canvas?");case 3:case"end":return e.stop()}}),e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,t,n){if(t.length>1){var r=Object(be.a)({},e);return r[t[0]]=ge(r[t[0]],t.slice(1),n),r}return function(e,t,n){var r=Object(be.a)({},e);return r[t]=n(e[t]),r}(e,t[0],n)}function ve(e){return function(t){for(var n=0,r=0,a=0;a<t.length;++a)if(" "!==t[a]){n=a-1;break}for(var c=t.length-1;c>0&&" "===t[c];--c)r++;return"".concat(n>0?" ".repeat(n):"").concat(e).concat(t.trim()).concat(e).concat(r>0?" ".repeat(r):"")}}var xe={B:ve("**"),STRONG:ve("**"),I:ve("_"),EM:ve("_"),U:ve("__")};function ye(e,t){if(""!==t){if("P"===e.tagName)return e.parentElement,e.parentElement&&"LI"===e.parentElement.tagName?t:t+"\n\n";if("H"===e.tagName[0])return"#".repeat(Number(e.tagName[1]))+" "+t+"\n";if("OL"===e.tagName){var n=0;return Array.from(e.children).reduce((function(e,t){var r=_e(t);return""!==r?e+"".concat(1+n++,". ").concat(r,"\n"):e}),"")}return"UL"===e.tagName?Array.from(e.children).reduce((function(e,t){var n=_e(t);return""!==n?e+"- ".concat(n,"\n"):""}),""):(e.tagName,(a=xe[e.tagName],function(){return a?a.apply(void 0,arguments):arguments.length<=0?void 0:arguments[0]})(t))}if("IMG"===e.tagName){var r=e.getAttribute("src");return"@@ src = '".concat(r,"' @@\n")}return"P"===e.tagName||"BR"===e.tagName?"\\\n":"";var a}function _e(e){return 3===e.nodeType?e.textContent:e.hasChildNodes()?ye(e,Array.from(e.childNodes).reduce((function(e,t){return e+_e(t)}),"")):ye(e,"")}var we={heading:{active:null,types:{h1:{name:"Heading 1",display:Object(oe.jsx)("b",{children:"h1"}),command:"heading",argument:"H1",category:"heading"},h2:{name:"Heading 2",display:Object(oe.jsx)("b",{children:"h2"}),command:"heading",argument:"H2",category:"heading"},h3:{name:"Heading 3",display:Object(oe.jsx)("b",{children:"h3"}),command:"heading",argument:"H3",category:"heading"},h4:{name:"Heading 4",display:Object(oe.jsx)("b",{children:"h4"}),command:"heading",argument:"H4",category:"heading"},h5:{name:"Heading 5",display:Object(oe.jsx)("b",{children:"h5"}),command:"heading",argument:"H5",category:"heading"},h6:{name:"Heading 6",display:Object(oe.jsx)("b",{children:"h6"}),command:"heading",argument:"H6",category:"heading"}}},image:{active:null,types:{image:{name:"Image",display:Object(oe.jsx)("b",{children:"Insert Image"}),command:"@_insertImage",category:"image"}}},list:{active:null,types:{orderedList:{name:"Ordered List",command:"insertorderedlist",category:"list"},unorderedList:{name:"Unordered List",command:"insertunorderedlist",category:"list"}}},bold:{active:null,types:{bold:{name:"Bold",display:Object(oe.jsx)("b",{children:"B"}),command:"bold"}}},italic:{active:null,types:{italic:{name:"Italic",display:Object(oe.jsx)("em",{children:"I"}),command:"italic"}}},underline:{active:null,types:{underline:{name:"Underline",display:Object(oe.jsx)("u",{children:"UL"}),command:"underline"}}}};var ke=n(69),Ce=n.n(ke),Ae=n(41),Ne=n.n(Ae),De=n(70),Fe=n.n(De),Se=n(18),Ie=n(51),He=n.n(Ie),Le=function(e){var t=e.children,n=void 0===t?"":t,r=e.type,a=void 0===r?"button":r,c=e.styleOption,i=Object(Se.a)(e,["children","type","styleOption"]);return Object(oe.jsx)("button",Object(be.a)(Object(be.a)({className:"".concat(He.a.button," ").concat(c?He.a[c]:""),type:a},i),{},{children:n}))};function Te(e,t){if("@_insertImage"===e){console.log("image handling");var n=document.createElement("input");n.type="file",n.click(),n.addEventListener("change",qe)}else document.execCommand(e,!1,t)}function Ue(e,t){return t?document.queryCommandValue(e):document.queryCommandState(e)}function qe(e){var t,n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&function(e,t){Oe.apply(this,arguments)}(n,(function(e){(function(e){return fe.apply(this,arguments)})(e).then((function(e){e.success?document.execCommand("insertImage",!1,e.data.url):console.error("IMGBB is down. Tony pls get us a server")}))}))}function Be(e){var t=e.saveDocument,n=e.toggleWidget,r=e.executeRichTextCommand,a=e.updateDirtyFlag;return function(e){var c=e.key,i=e.shiftKey,s=!1;if(e.ctrlKey)if(i)switch(console.log("CTRL and SHIFT",c),c){case"U":console.log("unordered list"),r("insertunorderedlist"),s=!0;break;case"O":r("insertorderedlist"),s=!0}else switch(c){case"s":t(),s=!0;break;case"b":n("bold"),r("bold"),s=!0;break;case"i":n("italic"),r("italic"),s=!0;break;case"u":n("underline"),r("underline"),s=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":n("h".concat(c),"heading"),r("heading","H".concat(c)),s=!0}s?(e.preventDefault(),e.stopPropagation()):a(!0)}}var Pe={borderColor:"black",borderWidth:"1px",margin:"0.3em",borderStyle:"solid"};function Re(e){var t=e.submissionHandler,n=e.currentArticle,r=e.updateDirtyFlag,c=e.toggleDraftStatus,i=Object(a.useState)(n),s=Object(Z.a)(i,2),o=s[0],u=(s[1],Object(a.useRef)(null)),l=Object(a.useRef)(null);document.execCommand("defaultParagraphSeparator",!1,"br");var d,b=Object(a.useState)(we),j=Object(Z.a)(b,2),p=j[0],h=j[1];function m(){if(l.current&&u.current){var e=_e(l.current);t({name:(null===o||void 0===o?void 0:o.name)||u.current.textContent||"",content:e}),void 0===o&&(l.current.innerHTML=le(ce(e).processed))}}function f(e,t){h(function(e,t,n){return ge(e,[n||t,"active"],(function(e){return e===t?null:t}))}(p,e,t))}return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("div",{className:Ne.a.main,children:[" ",Object.entries((d=p,Object.entries(d).reduce((function(e,t){var n=Object(Z.a)(t,2),r=(n[0],n[1].types);return Object.entries(r).reduce((function(e,t){var n=Object(Z.a)(t,2),r=n[0],a=n[1],c=Object(be.a)({},e);return c[r]=a,c}),e)}),{}))).map((function(e){var t=Object(Z.a)(e,2),n=t[0],r=t[1];return Object(oe.jsx)("button",{id:n,className:p[void 0!==r.category?r.category:n].active===n?Ne.a.active:Ne.a.button,onClick:function(e){f(n,r.category),Te(r.command,r.argument)},children:r.display?r.display:r.name},n)}))]}),Object(oe.jsx)("h1",{className:Fe.a.title,contentEditable:o?"false":"true",ref:u,children:n?n.name:"Edit New Title"}),Object(oe.jsx)("div",{style:Pe,children:Object(oe.jsx)("div",{contentEditable:!0,className:ee.a.article,onSelect:function(){h(Object.keys(p).reduce((function(e,t){return ge(e,[t,"active"],"heading"===t?function(){return Ue(t,!0)}:function(){return Ue(t)?t:null})}),p))},onKeyDown:Be({saveDocument:m,toggleWidget:f,executeRichTextCommand:Te,updateDirtyFlag:r}),dangerouslySetInnerHTML:{__html:le(ce(o?o.content:"Begin typing your article.").processed)},ref:l})}),Object(oe.jsx)("br",{}),Object(oe.jsx)("br",{}),Object(oe.jsxs)("div",{className:Ce.a.main,children:[Object(oe.jsx)(Le,{onClick:function(){c()},children:"Toggle Draft Status"}),Object(oe.jsx)(Le,{onClick:m,children:o?"Save Article":"Submit Article"})]})]})}function Ee(e){var t=e.currentArticle,n=Q(),r=Object(a.useState)(!1),c=Object(Z.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(null===t||void 0===t?void 0:t.draftStatus),u=Object(Z.a)(o,2),l=u[0],d=u[1];return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("h2",{children:l?"DRAFT*":"WILL PUBLISH ON SAVE"}),Object(oe.jsx)(he,{dirtyFlag:i,children:"You have unsaved changes!"}),Object(oe.jsx)(Re,{submissionHandler:function(e){var t,r;t=Object(be.a)(Object(be.a)({},e),{},{draftStatus:!!l}),r=function(e){var t=e.name;console.log("Article ".concat(t," written!")),s(!1)},n(T(t)),null===r||void 0===r||r(t)},currentArticle:t,updateDirtyFlag:s,toggleDraftStatus:function(){return d(!l)}})]})}function We(e){var t=e.sectionHeaders;return t.length>0?Object(oe.jsxs)("div",{style:{border:"1px dotted black",margin:"2em",padding:"1.5em"},children:[Object(oe.jsx)("h3",{children:"Table Of Contents"}),Object(oe.jsx)("div",{style:{marginLeft:"3em"},children:t.map((function(e){var t=e.level,n=e.text;return Object(oe.jsx)("a",{href:"#todo",children:Object(oe.jsxs)("p",{style:{marginLeft:"".concat(2*(t-1),"em")},children:["\u2022 ",n]})})}))})]}):null}var Me=function(e){var t=e.article,n=Object(G.g)(),c=Q(),i=X(D)===r.Admin,s=t.name,o=t.content,u=Object(a.useState)(!1),l=Object(Z.a)(u,2),d=l[0],b=l[1],j=ce(o);return Object(oe.jsxs)(oe.Fragment,{children:[i&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("button",{onClick:function(){c(L(s)),n.push("/")},children:"Delete Page"}),Object(oe.jsx)("button",{onClick:function(){return b(!d)},children:"Edit This Page"})]}),i&&d?Object(oe.jsx)(Ee,{currentArticle:t}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("h1",{className:ee.a.title,children:[" ",s," "]}),Object(oe.jsx)(We,{sectionHeaders:j.headers}),Object(oe.jsx)(de,{className:ee.a.article,children:j.processed})]})]})},Ve=n(23),Ke=n.n(Ve),ze=n(30);function Ge(e,t){var n=Object(ze.a)(e).sort();function r(e,t){if(void 0!==e&&void 0!==t){for(var n=0,r=Math.min(e.length,t.length),a=0;a<r;++a){if(e[a].toUpperCase()!==t[a].toUpperCase())return n;n++}return n}return 0}return n=n.sort((function(e,n){var a=[r(e.name,t),r(n.name,t)];return 0!==a[0]||0!==a[1]?a[0]>a[1]?-1:a[0]<a[1]?1:-1:void 0!==n?n<t||n>t?1:-1:e<t||e>t?1:-1}))}var Qe=n(42),Xe=n.n(Qe),Ye=n(43),Je=n.n(Ye);function Ze(e){var t=e.returnInput,n=Object(a.useState)(""),r=Object(Z.a)(n,2),c=r[0],i=r[1],s=Object(a.useRef)((new Date).getTime()),o=Object(a.useRef)(null);return Object(oe.jsxs)("div",{id:Je.a.searchbar,children:[Object(oe.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Search",ref:o,value:c,onChange:function(e){i(e.target.value),s.current=(new Date).getTime(),setTimeout((function(){(new Date).getTime()-s.current>=500&&t(e.target.value)}),500)}}),Object(oe.jsx)("div",{id:Je.a.clearDiv,children:Object(oe.jsx)("span",{id:Je.a.clear,className:"material-icons btn",onClick:function(){i(""),o.current&&o.current.focus()},children:"clear"})})]})}function $e(e){return e.length>0?Object(oe.jsx)("div",{className:Xe.a.hoverBox,children:e.slice(0,5).map((function(e){var t=e.name;return Object(oe.jsx)(o.b,{to:me(t),children:Object(oe.jsx)("p",{children:t})},t)}))}):null}var et=function(e){var t=e.searchFunction,n=e.renderFunction,r=X(P),c=Object(a.useState)([]),i=Object(Z.a)(c,2),s=i[0],o=i[1];return Object(oe.jsxs)("div",{className:Xe.a.searchbar,children:[Object(oe.jsx)(Ze,{returnInput:function(e){o(e?t(r.articles.map((function(e){return e})),e):[])}}),n(s)]})},tt=function(){var e=Q(),t=X(D);return Object(oe.jsxs)("header",{id:Ke.a.header,children:[Object(oe.jsx)(o.b,{to:"/",children:Object(oe.jsx)("div",{id:Ke.a.logoDiv})}),Object(oe.jsx)(et,{searchFunction:Ge,renderFunction:$e}),Object(oe.jsxs)("nav",{id:Ke.a.navbar,children:[Object(oe.jsx)("button",{className:"material-icons "+Ke.a.menu,children:"menu"}),Object(oe.jsxs)("button",{className:Ke.a.links,children:[Object(oe.jsx)(o.b,{to:"/index",children:"Index"}),t!=r.Anonymous&&t!=r.NotLoggedIn?Object(oe.jsxs)(oe.Fragment,{children:[t===r.Admin?Object(oe.jsx)(o.b,{to:"/admin",children:"Create New Article"}):Object(oe.jsx)(oe.Fragment,{}),Object(oe.jsx)("button",{onClick:function(){e(C())},children:"Logout"})]}):Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(o.b,{to:"/register",children:"Register"}),Object(oe.jsx)(o.b,{to:"/login",children:"Login"})]})]})]})]})},nt=n(44),rt=n.n(nt);function at(e){var t,n=e.articlesData.articles,r=n.length?(t=n)[Math.floor(Math.random()*t.length)]:{name:"no article name",content:"no articles"},a=r.name,c=r.content;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("h2",{children:"Featured Article"}),Object(oe.jsxs)("div",{className:rt.a.articleDisplay,children:[Object(oe.jsx)("p",{children:"TODO what is the best way to determine a featured article?"}),Object(oe.jsx)("p",{children:"Honestly, that might have to be manually audited since that depends on a lot of things."})]}),Object(oe.jsx)("h2",{children:"Random Article"}),Object(oe.jsxs)("div",{className:rt.a.articleDisplay,children:[Object(oe.jsx)("h2",{children:a}),Object(oe.jsx)(de,{className:rt.a.searchResult,children:"".concat(c.substr(0,800).replaceAll(/(@@.*)|(@@.*@@)/g,""))})]})]})}var ct=function(e){var t=e.articlesData;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("h1",{children:"Welcome to Recyclopedia"}),Object(oe.jsx)("p",{children:"Recyclopedia is a freely accessible wiki designed to be a complete source for environmentally friendly actions. While it is primarily meant to be a comprehensive source of ways to recycle items appropriately. It may also contain other methods of sustaining an environmentally friendly lifestyle."}),Object(oe.jsx)("br",{}),Object(oe.jsxs)("p",{children:["This is developed by the ",Object(oe.jsx)("a",{href:"https://www.projectenv.org/",children:Object(oe.jsx)("u",{children:"Environment Project"})})]}),Object(oe.jsx)("br",{}),Object(oe.jsx)(at,{articlesData:t})]})},it=n(71),st=n.n(it);var ot=function(){var e=X(P),t=X(D)===r.Admin;return Object(oe.jsx)("div",{className:st.a.index,children:t?e.articles.map((function(e){var t=e.name,n=e.draftStatus;return Object(oe.jsx)("p",{children:Object(oe.jsx)(o.b,{to:me(t),children:n?"[DRAFT*] "+t:t})},t)})):e.articles.filter((function(e){var t=e.draftStatus;return!1===t||void 0===t})).map((function(e){var t=e.name;return Object(oe.jsx)("p",{children:Object(oe.jsx)(o.b,{to:me(t),children:t})},t)}))})},ut=n(10),lt=n(34),dt=n.n(lt),bt=function(e){var t=e.changeHandler,n=e.label,r=(e.defaultValue,e.value),c=e.option,i=e.readOnly,s=e.selectAllOnFocus,o=Object(Se.a)(e,["changeHandler","label","defaultValue","value","option","readOnly","selectAllOnFocus"]),u=c||"input",l=Object(a.useRef)(null);return Object(oe.jsxs)("div",{className:dt.a.group,children:[Object(oe.jsx)(u,Object(be.a)(Object(be.a)(Object(be.a)({ref:l,className:"textarea"===c?dt.a.textarea:dt.a.input,onChange:t},s&&{onFocus:function(){var e;return null===(e=l.current)||void 0===e?void 0:e.select()}}),i&&{readOnly:!0}),o)),n&&Object(oe.jsx)("label",{className:"".concat(r?dt.a.shrink:""),children:n})]})};var jt=function(e){var t=e.className,n=e.submitFn,r=e.children,c=e.inputItems,i=Object.assign(Object.entries(c).map((function(e){var t=Object(Z.a)(e,2),n=t[0],r=t[1];return Object(ut.a)({},n,r.defaultValue||"")}))),s=Object(a.useState)(i),o=Object(Z.a)(s,2),u=o[0],l=o[1],d=function(e){var t=e.target,n=t.name,r=t.value;l(Object(be.a)(Object(be.a)({},u),{},Object(ut.a)({},n,r)))},b=function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n){e.next=7;break}return e.next=4,n(u);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=!0;case 8:e.t0&&l(i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(oe.jsxs)("form",{className:t,onSubmit:b,children:[Object.entries(c).map((function(e,t){var n=Object(Z.a)(e,2),r=n[0],a=n[1];return Object(oe.jsx)(bt,Object(be.a)({changeHandler:d,name:r,value:u[r]},a),t)})),r]})};function pt(e){Q(),Object(G.g)();return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("h1",{children:"Register a New Account"}),Object(oe.jsx)(jt,{inputItems:{email:{selectAllOnFocus:!0,placeholder:"Email",required:!0},password:{selectAllOnFocus:!0,placeholder:"Password",required:!0},passwordConfirmation:{selectAllOnFocus:!0,placeholder:"Confirm Password",required:!0}},submitFn:function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.password!==t.passwordConfirmation){e.next=5;break}return e.next=3,v({email:t.email,password:t.password});case 3:e.next=6;break;case 5:alert("Passwords do not match!");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(oe.jsx)(Le,{type:"submit",children:"Register Account"})})]})}function ht(e){var t=Q(),n=Object(G.g)();return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("h1",{children:"Login With Your Account!"}),Object(oe.jsx)(jt,{inputItems:{email:{selectAllOnFocus:!0,placeholder:"Email",required:!0},password:{selectAllOnFocus:!0,placeholder:"Password",required:!0}},submitFn:function(){var e=Object(O.a)(f.a.mark((function e(a){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(w(a));case 2:c=e.sent.payload,console.log(c),c.type!==r.Anonymous?n.push("/"):alert("bad login");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(oe.jsx)(Le,{type:"submit",children:"Login"})})]})}function mt(){var e=X(P),t=X(D);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(tt,{}),Object(oe.jsx)("main",{id:z.a.main,children:Object(oe.jsxs)(G.d,{children:[Object(oe.jsx)(G.b,{exact:!0,path:"/index",children:Object(oe.jsx)(ot,{})}),Object(oe.jsx)(G.b,{exact:!0,path:"/",children:Object(oe.jsx)(ct,{articlesData:e})}),Object(oe.jsx)(G.b,{exact:!0,path:"/admin",children:t===r.Admin?Object(oe.jsx)(Ee,{currentArticle:void 0}):Object(oe.jsx)(G.a,{to:"/"})}),(t===r.Admin?e.articles:e.articles.filter((function(e){return!e.draftStatus}))).map((function(e){return Object(oe.jsx)(G.b,{exact:!0,path:me(e.name),children:Object(oe.jsx)(Me,{article:e})},e.name)})),Object(oe.jsx)(G.b,{path:"/login",children:Object(oe.jsx)(ht,{})}),Object(oe.jsx)(G.b,{path:"/register",children:Object(oe.jsx)(pt,{})}),Object(oe.jsx)(G.b,{path:"*",children:"404"})]})})]})}var ft=function(){var e=Q();Object(a.useEffect)((function(){e(I(Y))}),[e]);var t=X(B);return"failed"===t?Object(oe.jsx)("p",{children:"MongoDB is probably offline. Crap."}):"succeed"===t?Object(oe.jsx)(mt,{}):Object(oe.jsx)("p",{children:"Please wait! Loading Recyclopedia..."})};s.a.render(Object(oe.jsx)(c.a.StrictMode,{children:Object(oe.jsx)(l.a,{store:M,children:Object(oe.jsx)(u.a,{persistor:V,children:Object(oe.jsx)(o.a,{basename:"/recyclopedia",children:Object(oe.jsx)(ft,{})})})})}),document.getElementById("root"))},23:function(e,t,n){e.exports={btn:"Header_btn__ixp2s",header:"Header_header__2C1Vn",menu:"Header_menu__2W5N2",navbar:"Header_navbar__1qBL4",logoDiv:"Header_logoDiv__3T1yS",links:"Header_links__392xQ"}},28:function(e,t,n){e.exports={title:"Article_title__3V4iY",article:"Article_article__1_qWg"}},34:function(e,t,n){e.exports={group:"Input_group__17cm4","form-input-label":"Input_form-input-label__3XeeE",shrink:"Input_shrink__1Ejxt"}},40:function(e,t,n){e.exports={dropOut:"NoticeBanner_dropOut__27qEQ",dropIn:"NoticeBanner_dropIn__QXAik","drop-in":"NoticeBanner_drop-in__1yqzX",main:"NoticeBanner_main__2YpUO"}},41:function(e,t,n){e.exports={active:"richWidgetBar_active__1pcNx",button:"richWidgetBar_button__N1sVj",main:"richWidgetBar_main__14KIW"}},42:function(e,t,n){e.exports={searchbar:"Search_searchbar__2GxSQ",hoverBox:"Search_hoverBox__3V1C5"}},43:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__2o8go",clearDiv:"Searchbar_clearDiv__3C4Bk"}},44:function(e,t,n){e.exports={articleDisplay:"Homepage_articleDisplay__3zqNX"}},51:function(e,t,n){e.exports={button:"Button_button__yxyJm",google:"Button_google__4WBul"}},67:function(e,t,n){e.exports={btn:"App_btn__226iN",main:"App_main__3HmsK"}},69:function(e,t,n){e.exports={main:"bottomToolbar_main__2k-V0"}},70:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){}},[[147,1,2]]]);
//# sourceMappingURL=main.7955af97.chunk.js.map