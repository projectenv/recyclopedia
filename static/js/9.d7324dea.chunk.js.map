{"version":3,"sources":["pages/RecyclingBin/RecyclingBinPage.module.scss","pages/RecyclingBin/RecyclingBin.tsx"],"names":["module","exports","DaysLeft","value","statusBg","backgroundColor","className","styles","daysLeft","style","RecyclingBin","articlesData","useAppSelector","selectArticlesData","dispatch","selectLoginType","useAppDispatch","history","useHistory","id","recyclingBin","recycledArticles","length","emptyMsg","map","name","pendingDaysUntilDeletion","content","to","validPageLink","styledAs","onClick","a","confirm","restoreArticle","push","deleteArticle"],"mappings":"yFACAA,EAAOC,QAAU,CAAC,aAAe,uCAAuC,SAAW,mCAAmC,SAAW,mCAAmC,iBAAmB,6C,kJCevL,SAASC,EAAT,GAAwC,IAApBC,EAAmB,EAAnBA,MACZC,EAAW,CACfC,gBACMF,GAAS,EACJ,MACEA,GAAS,GACX,SAEF,eAIX,OACE,mCACE,uBACEG,UAAWC,IAAOC,SAClBC,MAAOL,EAFT,UAIGD,EAJH,kBAsESO,UA1Df,WACE,IAAMC,EAAeC,YAAeC,KAE9BC,GADmBF,YAAeG,KACvBC,eACXC,EAAUC,cAEhB,OACE,sBAAKC,GAAIZ,IAAOa,aAAhB,UACE,8DACA,mLAK4C,IAAzCT,EAAaU,iBAAiBC,OAC7B,mBAAGH,GAAIZ,IAAOgB,SAAd,yCAIA,qBAAKJ,GAAIZ,IAAOc,iBAAhB,SACGV,EAAaU,iBAAiBG,KAAI,gBAAGC,EAAH,EAAGA,KAAeC,GAAlB,EAASC,QAAT,EAAkBD,0BAAlB,OACjC,gCACE,cAAC,IAAD,CAAME,GAAI,uBAAyBC,YAAcJ,GAAjD,SACGA,IAEH,gCACE,cAACvB,EAAD,CAAUC,MAAOuB,IACjB,cAAC,IAAD,CACEI,SAAS,OACTC,QAAO,sBAAE,sBAAAC,EAAA,0DACHC,QAAQ,wCADL,gCAECnB,EAASoB,YAAeT,IAFzB,OAGLR,EAAQkB,KAAKN,YAAcJ,IAHtB,2CAFX,qBAWA,cAAC,IAAD,CACEK,SAAS,cACTC,QAAS,WACHE,QAAQ,sCACVnB,EAASsB,YAAcX,IACvBR,EAAQkB,KAAK,OALnB,yBAjBMV","file":"static/js/9.d7324dea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"recyclingBin\":\"RecyclingBinPage_recyclingBin__2aYt0\",\"emptyMsg\":\"RecyclingBinPage_emptyMsg__2Lbka\",\"daysLeft\":\"RecyclingBinPage_daysLeft__3hBbj\",\"recycledArticles\":\"RecyclingBinPage_recycledArticles__8rePi\"};","import styles from \"pages/RecyclingBin/RecyclingBinPage.module.scss\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { useAppSelector, useAppDispatch } from \"app/hooks\";\r\nimport { selectArticlesData, deleteArticle, restoreArticle } from \"app/articlesSlice\";\r\nimport { LoginType, selectLoginType } from \"app/adminSlice\";\r\n\r\nimport { validPageLink, dictionaryUpdateKey } from \"utils/functions\";\r\nimport Button from \"components/UI/Button\";\r\n\r\n\r\n// little filler component as to not complict the RecyclingBin\r\ntype DaysLeft = {\r\n  value: number,\r\n};\r\n\r\nfunction DaysLeft({ value }: DaysLeft) {\r\n  const statusBg = {\r\n    backgroundColor: function () {\r\n      if (value <= 5) {\r\n        return \"red\";\r\n      } else if (value <= 15) {\r\n        return \"yellow\";\r\n      }\r\n      return \"transparent\";\r\n    }()\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <span\r\n        className={styles.daysLeft}\r\n        style={statusBg}\r\n      >\r\n        {value} Days Left\r\n      </span>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n// No admin check required. Things will already die here.\r\nfunction RecyclingBin() {\r\n  const articlesData = useAppSelector(selectArticlesData);\r\n  const currentLoginType = useAppSelector(selectLoginType);\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div id={styles.recyclingBin}>\r\n      <h2>Welcome to the Recycling Bin</h2>\r\n      <p>\r\n        This is where articles go to die! If you&apos;ve accidently deleted an article. You can recover them here! Or you can dispose of them permenantly here!\r\n      </p>\r\n\r\n      {\r\n        (articlesData.recycledArticles.length === 0) ? (\r\n          <p id={styles.emptyMsg}>\r\n            The Recycling Bin is Empty!\r\n          </p>\r\n        ) : (\r\n          <div id={styles.recycledArticles}>\r\n            {articlesData.recycledArticles.map(({ name, content, pendingDaysUntilDeletion }) => (\r\n              <div key={name}>\r\n                <Link to={\"/admin/recycling_bin\" + validPageLink(name)}>\r\n                  {name}\r\n                </Link>\r\n                <div>\r\n                  <DaysLeft value={pendingDaysUntilDeletion} />\r\n                  <Button\r\n                    styledAs=\"oval\"\r\n                    onClick={async () => {\r\n                      if (confirm(\"Do you want to restore this article?\")) {\r\n                        await dispatch(restoreArticle(name));\r\n                        history.push(validPageLink(name));\r\n                      }\r\n                    }}\r\n                  >\r\n                    Restore\r\n                  </Button>\r\n                  <Button\r\n                    styledAs=\"oval-danger\"\r\n                    onClick={() => {\r\n                      if (confirm(\"Permenantly delete this article?\")) {\r\n                        dispatch(deleteArticle(name));\r\n                        history.push(\"/\");\r\n                      }\r\n                    }}\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )\r\n      }\r\n    </div>);\r\n}\r\n\r\nexport default RecyclingBin;\r\n"],"sourceRoot":""}